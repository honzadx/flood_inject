# flood_inject
Unity source generated dependency injection framework

## Workflow

1. Context creation
```csharp
using FloodInject.Runtime;
public class HeroContext : BaseContext { }
```

2. Data binding

```csharp
public class HeroSelectionViewController : ViewController 
{
    /////////
    // Hero selection logic
    /////////
    
    public void FinishSelection() 
    {
        ContextProvider<HeroContext>.Get().Rebind(_initData);
    }
}
```

3. Resolution
```csharp
[Flood]
public partial class Hero : MonoBehaviour
{
    [Resolve] private GameSettings _gameSettings;
    [Resolve(typeof(HeroContext))] private HeroInit _heroInit;
    [Resolve(typeof(PlayerContext))] private PlayerController _playerController;

    public void Start()
    {
        Construct();
    }
}
```

```csharp
// <auto-generated />
using FloodInject.Runtime;
using UnityEngine;

partial class Hero
{
    public virtual void Construct()
    {
        PreConstruct();
        _gameSettings = ContextProvider<GlobalContext>.Get().Resolve<GameSettings>();
        _heroInit = ContextProvider<HeroContext>.Get().Resolve<HeroInit>();
        _playerController = ContextProvider<PlayerContext>.Get().Resolve<PlayerController>();
        PostConstruct();
    }
    partial void PreConstruct();
    partial void PostConstruct();
}
```