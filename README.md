# flood_inject
Unity source generated dependency injection framework


## Workflow

1. Creating context objects

```
public partial class SceneContext : BaseContext { }
```

```
// <auto-generated />
public partial class SceneContext 
{
    public override System.Type ContextType => typeof(GameplayContext);

    protected void OnEnable()
    {
        ContextProvider.Register(this);
    }
    
    protected void OnDestroy()
    {
        ContextProvider.Unregister(this);
    }
}
```

2. Bind, Rebind, Unbind functionality
```
var data = new Data();
ContextProvider.GetContext<SceneContext>().Bind(data);
```

3. Auto injection from ContextProvider `[Inject(typeof(SceneContext))] Data data;`

## TODO:
- [x] Base context definition
    - [x] Bind
    - [x] Rebind
    - [x] Unbind
    - [ ] Context reset
- [x] Context generation
    - [x] Automatic registration
    - [x] Compile time type getter
    - [ ] Validate single context per type
- [ ] Auto Injection
    - [x] Get context type
    - [ ] Build field inject metadata
    - [ ] Construct init
- [ ] Handle playmode
