# flood_inject
Unity source generated dependency injection framework


## Workflow

1. Creating context objects

```
public partial class SceneContext : BaseContext { }
```

```
// <auto-generated />
public partial class SceneContext 
{
    public override System.Type ContextType => typeof(GameplayContext);

    protected void OnEnable()
    {
        ContextProvider.Register(this);
    }
    
    protected void OnDestroy()
    {
        ContextProvider.Unregister(this);
    }
}
```

2. Bind, Rebind, Unbind, Get, Reset functionality
```
var data = new Data();
ContextProvider.GetContext<SceneContext>().Bind(data);
```

3. Auto injection from ContextProvider `[Inject(typeof(SceneContext))] Data data;`

## TODO:
- [x] Base context definition
    - [x] Bind
    - [x] Rebind
    - [x] Unbind
    - [x] Get
    - [x] Reset
- [x] Context generation
    - [x] Automatic registration
    - [x] Compile time type getter
- [ ] Auto Injection
    - [x] Get context type
    - [x] Build field inject metadata
    - [x] Construct inject method
    - [ ] Trigger injection automatically
- [ ] Handle inherited injections
- [ ] Validate single context per type
- [ ] Handle playmode
- [ ] Unit testing
